import 'package:appgallery/get_comments.dart';import 'package:appgallery/get_posts.dart';import 'package:flutter/material.dart';import 'package:flutter_spinkit/flutter_spinkit.dart';import 'package:hive/hive.dart';import 'package:http/http.dart';class Posts extends StatelessWidget {  GetPosts getPosts;  Posts(this.getPosts);  List<GetComments> getComments;  // List<GetComments> parseContacts(String responseBody) {  //   final parsed = jsonDecode(responseBody).cast<Map<String, dynamic>>();  //   getComments = parsed.map<GetComments>((json) => GetComments.fromJson(json))  //       .toList();  //  //   return parsed.map<GetComments>((json) => GetComments.fromJson(json))  //       .toList();  // }  Response response;  Box box = Hive.box('posts');  Future<List<GetComments>> getComment() async {    if(box.isEmpty) {      response = await get(Uri.parse('https://jsonplaceholder.typicode.com/comments/?postId=${getPosts.id}'));      box.put('posts',response.body);    }    var getComments =  box.get('posts');    return FromJson(getComments);  }  @override  Widget build(BuildContext context) {    return Scaffold(        backgroundColor: Color(0xff0F0B21),        appBar: AppBar(          title: Text('Title',            style: TextStyle(              fontFamily: 'Raleway',              fontSize: 20,            ),),          centerTitle: true,          backgroundColor: Color(0xff231d49),          toolbarHeight: 60,        ),        body: FutureBuilder(            future: getComment(),            builder: (context, snapshot) {              if (snapshot.hasData) {                List result;                return Stack(                    children: [                      Padding(                        padding: const EdgeInsets.fromLTRB(16, 10, 16, 0),                        child: Container(                          child: Column(                            crossAxisAlignment: CrossAxisAlignment.start,                            children: [                              Padding(                                padding: const EdgeInsets.fromLTRB(0, 23, 0,                                    23),                                child: Text(getPosts.title,                                  style: TextStyle(                                    fontFamily: 'Raleway',                                    fontSize: 16,                                    fontWeight: FontWeight.w600,                                    color: Colors.white,                                  ),                                ),                              ),                              SizedBox(height: 3,),                              Text(getPosts.body,                                style:                                TextStyle(                                    fontFamily: 'Raleway',                                    fontSize: 12,                                    color: Color(0xffffffff).withOpacity(0.8),                                    fontWeight: FontWeight.w500                                ),                              ),                              SizedBox(height: 32,),                              Expanded(                                  child: ListView.builder(                                      itemCount: snapshot.data.length,                                      itemBuilder: (context, index) {                                        return Padding(                                          padding: const EdgeInsets.fromLTRB(                                              0, 0, 0, 10),                                          child: Container(                                            decoration: BoxDecoration(                                                color: Color(0xff221C44),                                                borderRadius: BorderRadius                                                    .all(                                                    Radius.circular(10))                                            ),                                            child: Padding(                                              padding: const EdgeInsets.all(                                                  16),                                              child: Column(                                                  crossAxisAlignment: CrossAxisAlignment                                                      .start,                                                  children: [                                                    Row(                                                      children: [                                                        Icon(Icons.account_circle, size: 40,                                                          color: Colors.white,),                                                        SizedBox(width: 16,),                                                        Expanded(child: Text(                                                          snapshot.data[index].name,                                                          overflow: TextOverflow.ellipsis,                                                          maxLines: 1,                                                          softWrap: false,                                                          style: TextStyle(                                                            color: Colors.white,                                                            fontSize: 16,                                                            fontFamily: 'Raleway',                                                          ),                                                        )),                                                      ],                                                    ),                                                    SizedBox(height: 16,),                                                    Text(                                                      snapshot.data[index]                                                          .body,                                                      overflow: TextOverflow                                                          .ellipsis,                                                      maxLines: 2,                                                      softWrap: false,                                                      style: TextStyle(                                                        color: Color(                                                            0xffffffff)                                                            .withOpacity(                                                            0.8),                                                        fontSize: 14,                                                        fontFamily: 'Raleway',                                                      ),                                                    ),                                                  ]                                              ),                                            ),                                          ),                                        );                                      }                                  )                              )                            ],                          ),                        ),                      ),                      Positioned(                        bottom: 0,                        child: InkWell(                            onTap: () {                              Navigator.push(context,                                  new MaterialPageRoute(builder: (context) =>                                      Scaffold(backgroundColor: Color(0xff0F0B21),                                          appBar: AppBar(                                            title: Text('Title',                                              style: TextStyle(                                                fontFamily: 'Raleway',                                                fontSize: 20,                                              ),),                                            centerTitle: true,                                            backgroundColor: Color(0xff231d49),                                            toolbarHeight: 60,                                          ),                                          body: Container(                                            padding: EdgeInsets.only(top: 27),                                            child: ListView.builder(                                            itemCount: snapshot.data.length,                                            itemBuilder: (context, index) {                                              return Padding(                                                padding: const EdgeInsets.fromLTRB(                                                    16, 0, 16, 10),                                                child: Container(                                                  width: MediaQuery.of(context).size.width - 100,                                                  decoration: BoxDecoration(                                                      color: Color(0xff221C44),                                                      borderRadius: BorderRadius                                                          .all(                                                          Radius.circular(10))                                                  ),                                                  child: Padding(                                                    padding: const EdgeInsets.all(                                                        16),                                                    child: Column(                                                        crossAxisAlignment: CrossAxisAlignment                                                            .start,                                                        children: [                                                          Row(                                                            children: [                                                              Icon(Icons.account_circle, size: 40,                                                                color: Colors.white,),                                                              SizedBox(width: 16,),                                                              Expanded(child: Text(                                                                snapshot.data[index].name,                                                                overflow: TextOverflow.ellipsis,                                                                maxLines: 1,                                                                softWrap: false,                                                                style: TextStyle(                                                                  color: Colors.white,                                                                  fontSize: 16,                                                                  fontFamily: 'Raleway',                                                                ),                                                              )),                                                            ],                                                          ),                                                          SizedBox(height: 16,),                                                          Text(                                                            snapshot.data[index]                                                                .body,                                                            overflow: TextOverflow                                                                .ellipsis,                                                            maxLines: 2,                                                            softWrap: false,                                                            style: TextStyle(                                                              color: Color(                                                                  0xffffffff)                                                                  .withOpacity(                                                                  0.8),                                                              fontSize: 14,                                                              fontFamily: 'Raleway',                                                            ),                                                          ),                                                        ]                                                    ),                                                  ),                                                ),                                              );                                            }                                      ),                                          ))                                  )                              );                            },                            child: Container(                              decoration: BoxDecoration(                                  color: Color(0xff6C63FF),                                  borderRadius: BorderRadius.only(                                      topLeft: (Radius.circular(15)),                                      topRight: (Radius.circular(15)))                              ),                              width: MediaQuery                                  .of(context)                                  .size                                  .width * 1,                              height: 64,                              alignment: Alignment.center,                              child: Padding(                                padding: const EdgeInsets.fromLTRB(                                    26, 8, 26, 8),                                child: Row(                                  mainAxisAlignment: MainAxisAlignment                                      .spaceBetween,                                  children: [                                    Row(                                      children: [                                        Text('Show me ',                                            style:                                            TextStyle(                                              color: Color(0xffffffff)                                                  .withOpacity(0.7),                                              fontWeight: FontWeight.w400,                                              fontSize: 18,                                              fontFamily: 'Inter',                                            )                                        ),                                        Text('${snapshot.data.length                                            .toString()} results',                                          style:                                          TextStyle(                                            color: Color(0xffffffff),                                            fontWeight: FontWeight.w700,                                            fontSize: 18,                                            fontFamily: 'Inter',                                          ),                                        ),                                      ],                                    ),                                    Row(                                      children: [                                        Icon(Icons.visibility,                                          color: Colors.white,),                                      ],                                    ),                                  ],                                ),                              ),                            )),                      )                    ]);              }              else {                return                  SpinKitFadingFour(                    color: Colors.white,                    size: 80,                  );              }            }        )    );  }}